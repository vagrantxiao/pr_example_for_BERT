/*
 * Program:

 *   This program is a C++ driver for using one DMA in ZCU102 board.
 *
 * History:
 *   2020/5/14     Yuanlong Xiao   First Release
*/

#include "xparameters.h"	/* SDK generated parameters */

#include "stream.h"
#include "typedefs.h"
#include "config_rendering.h"
#include "sleep.h"

#include "stdio.h"

int main(void)
{
	unsigned int data;
	unsigned int read_success = 0;

	init_regs();
	xil_printf("BFT initialization DONE\n");
	stream_inst stream(0, 0);
	for(int i=0; i<100; i++){
		stream.stream1_write(i);
		stream.stream1_write(i+1);
		while(read_success == 0){
			iread_success = tream.stream1_read(&data);
		}
		printf("%d op %d = %d", i, i+1,  data);
	}


	return XST_SUCCESS;
}


